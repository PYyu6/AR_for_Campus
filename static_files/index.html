<html>
  <head>
    <title>Panorama Reality with Argon + A-Frame</title>
  	<meta name="keywords" content="argon, aframe, augmented reality, web, javascript, panoramic ar, custom reality">
    <meta name="description" content="Panorama Reality with Argon + A-Frame">
    <!-- Origin Trial Token, feature = WebVR, origin = https://argonjs.io, expires = 2017-06-06 -->
    <meta http-equiv="origin-trial" data-feature="WebVR" data-expires="2017-06-06" content="ArfXzMSluPfAfoVDD+ne9oWykUyDeLFD/z4/0uRCdZ1491aSrytWyj7gnGhwK1/Tzg/D+UOvNgD2+L9PWqF5XwwAAABceyJvcmlnaW4iOiJodHRwczovL2FyZ29uanMuaW86NDQzIiwiZmVhdHVyZSI6IldlYlZSIiwiZXhwaXJ5IjoxNDk2NzcxODA0LCJpc1N1YmRvbWFpbiI6dHJ1ZX0=">
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>    
    <script src="https://unpkg.com/@argonjs/argon@^1.2/dist/argon.js"></script>
    <script src="https://rawgit.com/argonjs/argon-aframe/master/dist/argon-aframe.js"></script>
    <script src="https://samples.argonjs.io/resources/lib/CSS3DArgonRenderer.js"></script>
    <script src="https://samples.argonjs.io/resources/lib/CSS3DArgonHUD.js"></script>
    <!-- <script src="/js/aframe-look-at-component.js"></script> -->
	  <link rel="stylesheet" type="text/css" href="/js/style.css">
    <style>
h1 {
  text-align: center;
}

body {
  box-sizing: border-box;
  margin: 20px auto;
  width: 100%;
  max-width: 600px;
  padding: 10px;  
  font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
}

.argon-immersive body {
  visibility: hidden;
}

#my-view-container {
  position: relative;
  max-width: 600px;
  height: 400px;
  margin: auto;
}

#my-pano-argon-app {
  width: 100%;
  height: 100%;
}
</style>
  </head>
  <body>
    <div hidden>
      <div id="mydiv" class="boxface">Argon<br>+<br>AFrame</div>
      <div id="mydiv2" class="boxface">WebGL<br>+<br>CSS</div>
    </div>

    <h1>My Travel Blog</h1>
    <!-- <div id="my-view-container"> -->
      <!-- <div id="my-pano-argon-app"> -->
        <div id="menu" class="menu"></div>
        <!--ar-scene desiredreality="src:url(https://samples.argonjs.io/panorama-reality/index.html);" panorama__aqui="src:url(panoramas/aqui.jpg);lla:-84.3951 33.7634 206;initial:true;" panorama__cent="src:url(panoramas/cent.jpg);lla:'-84.3931 33.7608 309';" panorama__high="src:url(panoramas/high.jpg);lla:'-84.38584 33.79035 289';" panorama__pied="src: url(panoramas/pied.jpg);lla:'-84.37427 33.78577 271';"-->
        <ar-scene desiredreality="src:url(https://samples.argonjs.io/panorama-reality/index.html);" panorama__aqui="src:url(https://bmaci.com/resources/panoramas/aqui.jpg);lla:-84.3951 33.7634 206;initial:true;" panorama__cent="src:url(https://bmaci.com/resources/panoramas/cent.jpg);lla:'-84.3931 33.7608 309';" panorama__high="src:url(https://bmaci.com/resources/panoramas/high.jpg);lla:'-84.38584 33.79035 289';" panorama__pied="src: url(https://bmaci.com/resources/panoramas/pied.jpg);lla:'-84.37427 33.78577 271';">
          <a-entity id="helloworld" position="0 -1 -8">
            <a-sphere position="0 1.25 -1" radius="1.25" color="#EF2D5E" ></a-sphere>
            <a-box position="-1 0.5 1" rotation="0 45 0" width="1" height="1" depth="1"  color="#4CC3D9" ></a-box>
            <a-entity billboard position="0 3 0">
              <a-entity rotation="0 45 0">
                      <a-entity css-object="div: #mydiv" scale="0.01 0.01 0.01" rotation="0 0 0" position="0 0 0.5"></a-entity>
                      <a-entity css-object="div: #mydiv2" scale="0.01 0.01 0.01" rotation="0 -90 0" position="-0.5 0 0"></a-entity>
              </a-entity>
            </a-entity>
            <a-cylinder position="1 0.75 1" radius="0.5" height="1.5" color="#FFC65D"></a-cylinder>
            <a-plane rotation="-90 0 0" width="4" height="4" color="#7BC8A4"></a-plane>
          </a-entity>
        </ar-scene>
      <!-- </div> -->
    <!-- </div> -->
    <article>
      <p>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam venenatis volutpat diam, sodales lobortis leo lacinia quis. Donec laoreet purus placerat tristique auctor. In faucibus ullamcorper dolor, eu scelerisque lectus interdum quis. Nulla magna mi, gravida vel tellus sollicitudin, finibus pretium erat. Aliquam dignissim lorem sed blandit pretium. Pellentesque sollicitudin lacinia aliquet. Pellentesque pharetra nunc id mollis laoreet. Maecenas laoreet diam nec sapien iaculis, id viverra dui luctus.
      </p>
      <p>
      Nullam risus magna, condimentum scelerisque elementum vel, porttitor non diam. Nullam quis arcu eu velit facilisis rutrum nec ac neque. Fusce sollicitudin ullamcorper dapibus. Quisque volutpat leo eget imperdiet luctus. Aliquam pharetra sapien nibh, in luctus elit accumsan a. Praesent lacinia tincidunt pretium. Curabitur quis nulla ut arcu tincidunt commodo. Donec nec fermentum neque, sit amet pulvinar tortor. Sed in quam ante. Nam malesuada nisl nec velit tristique, sed sagittis massa cursus. Mauris sit amet egestas lectus. Cras a nulla enim. Curabitur leo libero, porttitor at justo vel, sagittis euismod lorem. Praesent ullamcorper sed ante vel congue. Proin eget augue in erat euismod aliquet.
      </p>
      <p>
      In quis erat non nunc euismod efficitur. Maecenas vitae dolor et ligula interdum aliquet sit amet in nibh. Pellentesque sit amet justo et leo elementum malesuada at ac nisi. Sed bibendum dui a dignissim ultricies. Suspendisse eget eleifend metus, quis viverra mauris. Nullam pulvinar lacinia sodales. Aliquam commodo faucibus ante sed congue. Donec faucibus risus sit amet viverra ultrices. Proin tellus orci, tincidunt eu egestas et, vulputate quis nisi. Sed vitae varius eros.
      </p>
      <p>
      Praesent pulvinar lorem sed tellus auctor consequat. Interdum et malesuada fames ac ante ipsum primis in faucibus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. In efficitur, risus sit amet scelerisque imperdiet, ante mauris molestie dolor, at finibus ex arcu a ex. Donec ligula nulla, ornare in lectus maximus, blandit sollicitudin sapien. Vivamus vel luctus orci, pellentesque volutpat metus. Quisque ultrices lacinia vestibulum. Donec nec tristique turpis.
      </p>
      <p>
      Duis gravida, enim quis ornare blandit, tortor metus dignissim ex, dapibus tincidunt erat urna vel enim. Donec mattis luctus neque et aliquet. Fusce at velit quam. Praesent vitae ligula tristique, tristique libero nec, viverra elit. Nulla hendrerit fringilla varius. Integer libero justo, tincidunt ac feugiat vitae, vehicula sed quam. Nam nibh ipsum, viverra ut pretium sed, pretium sed dolor. Integer semper tellus tincidunt, vestibulum lectus nec, vulputate purus.      
      </p>
    </article>
    
    <script>
      var arScene = document.querySelector('ar-scene');
      var content = document.querySelector('#helloworld');

      // the ar-camera has an argon reference frame attached, so when it gets it's first value,
      // we'll get this event 
      arScene.addEventListener("referenceframe-statuschanged", function () {
        var camera = document.querySelector('ar-camera');
        var vec = camera.object3D.getWorldDirection();
        vec.multiplyScalar(-10);
        vec.y -= 1;
        content.setAttribute("position", {x: vec.x, y: vec.y, z: vec.z});
      });

      var panoramas = [
        { text: 'Georgia Aquarium', name: 'aqui' },
        { text: 'Centennial Park', name: 'cent' },
        { text: 'High Museum', name: 'high' },
        { text: 'Piedmont Park', name: 'pied'}
      ];

      var currentPanorama;
      // get the menu element
      var menu = document.getElementById('menu');
      // add buttons to the menu for each panorama
      panoramas.forEach(function (p) {
          var button = document.createElement('button');
          button.textContent = p.text;
          menu.appendChild(button);
          // when a button is tapped, have the reality fade in the corresponding panorama
          button.addEventListener('click', function () {
              arScene.sceneEl.emit('showpanorama', { name: p.name });     
          });
      });

      // doesn't work yet ...
      //
      // var button = document.createElement('button');
      // button.textContent = "LIVE";
      // menu.appendChild(button);
      // // when a button is tapped, have the reality fade in the corresponding panorama
      // button.addEventListener('click', function () {
      //   arScene.removeAttribute("desiredreality");
      // });
      
      arScene.addEventListener('argon-initialized', function(evt) {
        arScene.sceneEl.hud.appendChild(menu);
        arScene.sceneEl.argonApp.focusEvent.addEventListener(function () {
            document.getElementById('menu').style.display = 'block';
        });
        arScene.sceneEl.argonApp.blurEvent.addEventListener(function () {
            document.getElementById('menu').style.display = 'none';
        });      
      });
    </script>
  </body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63191442-2', 'auto');
  ga('send', 'pageview');
</script>  
</html>
